<!DOCTYPE html>
<!--
Welcome to the source code for gethttpsforfree.com!

This is an open source website that is meant to be auditable. Please read
through the code to see what's going on!

Original files:
  /index.html - This page
  /js/index.js - The interaction behavior for this page

Third-party libraries (all from asn1.js package):
  /js/asn1js/int10.js - Needed for asn1.js
  /js/asn1js/hex.js - Convert hex to binary array
  /js/asn1js/base64.js - Convert base64 to binary array
  /js/asn1js/asn1.js - Parse ASN.1 format used in x.509 certificates
  /js/asn1js/LICENSE - The license for the above asn1.js files

Released under MIT License. Enjoy!
-->
<html>
  <head>
    <title>Get HTTPS for free!</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      * {
        box-sizing: border-box;
      }
      html {
        font-family: sans-serif;
        font-size: 20px;
        line-height: 1.5;
        font-kerning: normal;
        font-feature-settings: "kern";
      }
      body {
        max-width: 70ch;
        margin: 0 auto;
        padding: 0 2rem;
        background-color: #fafafa;
      }
      div {
        margin: 1rem 0;
      }
      header,
      section {
        border-bottom: solid black 1px;
        padding-bottom: 1rem;
      }
      h1 {
        margin-bottom: 0;
      }
      .updates {
        font-size: 0.875rem;
        margin-top: 0.5em;
        padding-bottom: 1em;
        border-bottom: 1px solid #000;
      }
      .error {
        color: #ff1111;
      }
      li {
        margin-bottom: 1rem;
      }
      form {
        margin: 2em 0;
      }
      fieldset {
        margin-bottom: 2em;
        padding: 0;
        border: 0;
      }
      input[type="text"] {
        font-size: 0.825rem;
        padding: 0.5em 1em;
        width: 100%;
      }
      textarea {
        width: 100%;
        font-family: monospace;
        font-size: 0.825rem;
        padding: 0.5em 1em;
        white-space: pre;
      }
      input[type="submit"] {
        appearance: button;
        font-size: 0.75rem;
        padding: 0.75em 1em;
      }
      .help {
        margin: 0;
      }
      .help label {
        font-size: 0.75rem;
        text-decoration: underline;
        cursor: pointer;
      }
      .help input[type="checkbox"] {
        display: none;
      }
      .help .help-content {
        display: none;
        width: 100%;
        margin: 0.5rem 0;
        padding: 0.5rem;
        background-color: #eeeeee;
        border: 2px solid #bbbbbb;
      }
      .help input[type="checkbox"]:checked ~ .help-content {
        display: block;
      }
      pre {
        margin: 0.5rem 0;
        padding: 0.5rem;
        overflow: auto;
        background-color: #ffffff;
      }
      .challenges-wrapper {
        border: 1px solid;
        width: 100%;
      }
      .challenges-status,
      .challenges-domain {
        padding-left: 1rem;
        font-size: 0.875rem;
      }
      .challenges {
        margin-bottom: 0;
      }
      .tabs {
        margin-bottom: 0;
      }
      .tabs > label {
        display: inline-block;
        margin: 0;
        padding: 0.5rem 0.75rem 0.75rem 0.75rem;
        font-size: 0.75rem;
        text-decoration: underline;
        cursor: pointer;
      }
      .tabs input[type="radio"] {
        display: none;
      }
      .tabs input[type="radio"]:checked + label {
        background-color: #eeeeee;
      }
      .tabs input[id="challenge_python"]:checked ~ .tab.challenge_python {
        display: block;
      }
      .tabs input[id="challenge_file"]:checked ~ .tab.challenge_file {
        display: block;
      }
      .tabs input[id="challenge_dns"]:checked ~ .tab.challenge_dns {
        display: block;
      }
      .tab {
        display: none;
        background-color: #eeeeee;
        padding: 1rem;
        margin-top: 0;
        margin-bottom: 0;
      }
      .tab .help-content {
        background-color: #ffffff;
      }
      .tab .help-content a {
        display: inline-block;
        width: 100%;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
      }
      .tab code {
        background-color: #eeeeee;
      }
      .tab pre {
        background-color: #eeeeee;
      }
      .tab textarea {
        height: 105px;
      }
      footer {
        font-size: 0.875rem;
      }
    </style>
    <script src="js/asn1js/int10.js"></script>
    <script src="js/asn1js/base64.js"></script>
    <script src="js/asn1js/hex.js"></script>
    <script src="js/asn1js/asn1.js"></script>
  </head>
  <body>
    <!--########################################-->
    <!--##  Unsupported Browser Notification  ##-->
    <!--########################################-->
    <aside style="display: none">
      <p id="digest_error" class="error">
        ERROR: Your browser is not compatible with this website (this website
        needs WebCryptoAPI's crypto.subtle.digest()). Please upgrade to a modern
        browser (Firefox, Chrome, Safari, Edge, IE 11+).
      </p>
    </aside>

    <!--#############-->
    <!--##  Intro  ##-->
    <!--#############-->
    <header>
      <h1>Get HTTPS for free!</h1>
      <div class="updates">
        <p>Updates:</p>
        <dl>
          <dt><time datetime="2018-04-18">April 18, 2018</time></dt>
          <dd>Added wildcard certificate support!</dd>
        </dl>
      </div>
      <p>
        You can now get free https certificates (incuding wildcard certificates)
        from the non-profit certificate authority
        <a
          href="https://letsencrypt.org/"
          target="_blank"
          rel="noopener noreferrer"
          >Let's Encrypt</a
        >! This is a website that will take you through the manual steps to get
        your free https certificate so you can make your own website use https!
        This website is
        <a
          href="https://github.com/diafygi/howtogetfreehttps"
          target="_blank"
          rel="noopener noreferrer"
        >
          open source
        </a>
        and <strong>NEVER</strong> asks for your private keys. Never trust a
        website that asks for your private keys!
        <!--<a href="revoke.html">Click here</a> to revoke certs.-->
      </p>
      <p>
        <strong>
          NOTE: This website is for people who know how to generate certificate
          signing requests (CSRs)!
        </strong>
        If you're not familiar with how to do this, please use the official
        Let's Encrypt
        <a
          href="https://github.com/certbot/certbot"
          target="_blank"
          rel="noopener noreferrer"
        >
          official client
        </a>
        that can automatically issue and install https certificates for you.
        This website is designed for people who know what they are doing and
        just want to get their free https certificate.
      </p>
      <p>
        If you need to renew a certificate, simply complete these steps below
        again.
      </p>
    </header>

    <main>
      <!--############################-->
      <!--##  Step 1: Account Info  ##-->
      <!--############################-->
      <section>
        <h2>Step 1: Account Info</h2>
        <p>
          Let's Encrypt requires that you register an account email and public
          key before issuing a certificate. The email is so that they can
          contact you if needed, and the public key is so you can securely sign
          your requests to issue/revoke/renew your certificates.
          <em>
            <strong>Keep your account private key secret!</strong> Anyone who
            has it can impersonate you when making requests to Let's Encrypt!
          </em>
        </p>
        <form id="validate_account">
          <fieldset>
            <label for="email">Account Email</label>
            <input
              id="email"
              type="text"
              placeholder="(e.g. webmaster@yourdomain.com)"
            />
          </fieldset>
          <fieldset>
            <label for="pubkey">Account Public Key</label>
            <div class="help">
              <input id="howto_pubkey" type="checkbox" />
              <label for="howto_pubkey">(How do I generate this?)</label>
              <div class="help-content">
                <p>How to generate a new account keypair using openssl:</p>
                <ol>
                  <li>
                    Generate an account private key if you don't have one:
                    <br />
                    (KEEP ACCOUNT.KEY SECRET!)
                    <pre><code>openssl genrsa 4096 > account.key</code></pre>
                  </li>
                  <li>
                    Print your public key:
                    <pre><code>openssl rsa -in account.key -pubout</code></pre>
                  </li>
                  <li>
                    Copy and paste the public key into the box below.<br />
                  </li>
                </ol>
              </div>
            </div>
            <textarea
              id="pubkey"
              placeholder="-----BEGIN PUBLIC KEY----- &hellip;"
              rows="14"
              cols="65"
            ></textarea>
          </fieldset>
          <input
            id="validate_account_submit"
            type="submit"
            value="Validate Account Info"
            disabled
          />
          <span id="validate_account_status">&nbsp;</span>
        </form>
      </section>

      <!--###########################################-->
      <!--##  Step 2: Certificate Signing Request  ##-->
      <!--###########################################-->
      <section>
        <h2>Step 2: Certificate Signing Request</h2>
        <p>
          This is the certificate signing request (CSR) that you send to Let's
          Encrypt in order to issue you a signed certificate. It contains the
          website domains you want to issue certs for and the public key of your
          TLS private key.
          <em>
            <strong>Keep your TLS private key secret!</strong> Anyone who has it
            can man-in-the-middle your website!
          </em>
        </p>
        <form id="validate_csr">
          <fieldset>
            <label for="csr">Certificate Signing Request</label>
            <div class="help">
              <label for="howto_csr"> (How do I generate this?) </label>
              <input id="howto_csr" type="checkbox" />
              <div class="help-content">
                <p>How to generate a new Certificate Signing Request (CSR):</p>
                <ol>
                  <li>
                    Generate a TLS private key if you don't have one:
                    <br />
                    (KEEP DOMAIN.KEY SECRET!)
                    <pre><code>openssl genrsa 4096 > domain.key</code></pre>
                  </li>
                  <li>
                    Generate a CSR for your the domains you want certs for:
                    <br />
                    (replace "foo.com" with your domain)
                    <pre><code>
# change "/etc/ssl/openssl.cnf" as needed:
# Debian: /etc/ssl/openssl.cnf
# RHEL and CentOS: /etc/pki/tls/openssl.cnf
# Mac OSX: /System/Library/OpenSSL/openssl.cnf

openssl req -new -sha256 -key domain.key -subj "/" \
  -reqexts SAN -config &lt;(cat /etc/ssl/openssl.cnf \
  &lt;(printf "\n[SAN]\nsubjectAltName=DNS:foo.com,DNS:www.foo.com"))
                    </code></pre>
                  </li>
                  <li>Copy and paste the CSR into the box below.</li>
                </ol>
              </div>
            </div>
            <textarea
              id="csr"
              placeholder="-----BEGIN CERTIFICATE REQUEST----- &hellip;"
              rows="14"
              cols="65"
            ></textarea>
          </fieldset>
          <input
            id="validate_csr_submit"
            type="submit"
            value="Validate CSR"
            disabled
          />
          <span id="validate_csr_status"></span>
        </form>
      </section>

      <!--#############################-->
      <!--##  Step 3: Sign Requests  ##-->
      <!--#############################-->
      <section>
        <h2>
          Step 3: Sign API Requests<span id="step3_pending">
            (waiting&hellip;)
          </span>
        </h2>
        <div id="step3" style="display: none">
          <p>
            Let's Encrypt requires that you sign all of your requests to them
            with your account private key. Below are the requests that you will
            need to sign. The commands to do this are generated below so you can
            copy-and-paste them into your terminal.
            <em>
              Be sure to change the account private key location so it points to
              your real private key.
            </em>
          </p>
          <!-- Account Registration and Accept Terms -->
          <form id="validate_registration">
            <fieldset>
              <label for="registration_sig">
                Accept the Let's Encrypt
                <a id="tos" href="#" target="_blank" rel="noopener noreferrer">
                  terms and conditions
                </a>
              </label>
              <div class="help">
                <label for="howto_registration"> (How do I do this?) </label>
                <input id="howto_registration" type="checkbox" />
                <div class="help-content">
                  <p>
                    This command asks to register your account key (or look it
                    up if you have already registered) and accepts the
                    <a
                      id="howto_tos"
                      href="#"
                      target="_blank"
                      rel="noopener noreferrer"
                      >terms and conditions</a
                    >
                    for Let's Encrypt.
                  </p>
                  <p>How to generate this signature:</p>
                  <ol>
                    <li>
                      Copy and paste the command below into your terminal (if
                      your account private key isn't at "./account.key", change
                      "./account.key" in the command to wherever it exists).
                    </li>
                    <li>
                      Copy and paste the hex encoded signature output from the
                      command into the text field below that command.
                    </li>
                  </ol>
                </div>
              </div>
              <input
                id="registration_sig_cmd"
                type="text"
                value="echo &hellip;"
                readonly
              />
              <input
                id="registration_sig"
                type="text"
                placeholder='Paste the hex output here (e.g. "(stdin)= f2cf67e4&hellip;")'
              />
            </fieldset>
            <input
              id="validate_registration_sig"
              type="submit"
              value="Accept Terms"
            />
            <span id="validate_registration_sig_status"></span>
          </form>
          <!-- Account Update Contact Email -->
          <form id="validate_update">
            <fieldset>
              <label for="update_sig">
                Update your account email (
                <span id="account_email">foo@foo.com</span>
                )
              </label>
              <div class="help">
                <label for="howto_update">(How do I do this?)</label>
                <input id="howto_update" type="checkbox" />
                <div class="help-content">
                  <p>
                    This command sets your account contact email to what you put
                    in Step 1. If you had already set this email when you ran
                    these commands previously, this command will simply set the
                    same email again.
                  </p>
                  <p>How to generate this signature:</p>
                  <ol>
                    <li>
                      Copy and paste the command below into your terminal (if
                      your account private key isn't at "./account.key", change
                      "./account.key" in the command to wherever it exists).
                    </li>
                    <li>
                      Copy and paste the hex encoded signature output from the
                      command into the text field below that command.
                    </li>
                  </ol>
                </div>
              </div>
              <input
                id="update_sig_cmd"
                type="text"
                value="waiting until terms are accepted&hellip;"
                disabled
              />
              <input
                id="update_sig"
                type="text"
                placeholder="waiting until terms are accepted&hellip;"
                disabled
              />
            </fieldset>
            <input
              id="validate_update_sig"
              type="submit"
              value="Update Account"
              disabled
            />
            <span id="validate_update_sig_status"></span>
          </form>
          <!-- New Order Creation -->
          <form id="validate_order">
            <fieldset>
              <label for="order_sig">Create your certificate order</label>
              <div class="help">
                <label for="howto_order">(How do I do this?)</label>
                <input id="howto_order" type="checkbox" />
                <div class="help-content">
                  <p>
                    This command creates an order for the domains you included
                    in your certificate signing request (CSR) in Step 2.
                  </p>
                  <p>How to generate this signature:</p>
                  <ol>
                    <li>
                      Copy and paste the command below into your terminal (if
                      your account private key isn't at "./account.key", change
                      "./account.key" in the command to wherever it exists).
                    </li>
                    <li>
                      Copy and paste the hex encoded signature output from the
                      command into the text field below that command.
                    </li>
                  </ol>
                </div>
              </div>
              <input
                id="order_sig_cmd"
                type="text"
                value="waiting until account contact is updated&hellip;"
                disabled
              />
              <input
                id="order_sig"
                type="text"
                placeholder="waiting until account contact is updated&hellip;"
                disabled
              />
            </fieldset>
            <input
              id="validate_order_sig"
              type="submit"
              value="Create Order"
              disabled
            />
            <span id="validate_order_sig_status"></span>
          </form>
        </div>
      </section>

      <!--##########################-->
      <!--##  Step 4: Challenges  ##-->
      <!--##########################-->
      <section>
        <h2>
          Step 4: Verify Ownership<span id="step4_pending">
            (waiting&hellip;)
          </span>
        </h2>
        <div id="step4" style="display: none">
          <p>
            Let's Encrypt requires you prove you own the domains you have in
            your CSR. You can do this by serving a specific file at a specific
            url under your domains. Below are the files you need to serve along
            with some copy-and-paste commands you can run on your website to
            start serving the file. Once you are serving the file on your
            website, click "I'm now running this on&hellip;". After that, you
            need to tell Let's Encrypt to check the above files to verify
            ownership of your domains. This request needs to be signed with your
            account private key. Below are the verification requests that you
            will need to sign. The commands to do this are generated below so
            you can copy-and-paste them into your terminal.
            <em>
              Be sure to change the account private key location so it points to
              your real private key.
            </em>
          </p>
          <div id="auths"></div>
          <div id="auth_template">
            <!-- GET-as-POST Authorization -->
            <form class="auth_form">
              <fieldset>
                <label for="auth_sig">
                  Load set of challenges (
                  <span class="auth_i"></span>/
                  <span class="auth_count"></span>
                  )
                </label>
                <div class="help">
                  <label for="howto_auth_sig" class="howto_auth_sig_label">
                    (How do I do this?)
                  </label>
                  <input
                    id="howto_auth_sig"
                    type="checkbox"
                    class="howto_auth_sig"
                  />
                  <div class="help-content">
                    <p>
                      This command requests the challenges you need to complete
                      in order to make sure you control a domain in your
                      certificate order.
                    </p>
                    <p>How to generate this signature:</p>
                    <ol>
                      <li>
                        Copy and paste the command below into your terminal (if
                        your account private key isn't at "./account.key",
                        change "./account.key" in the command to wherever it
                        exists).
                      </li>
                      <li>
                        Copy and paste the hex encoded signature output from the
                        command into the text field below that command.
                      </li>
                    </ol>
                  </div>
                </div>
                <input
                  class="auth_sig_cmd"
                  type="text"
                  value="waiting until previous challenges are complete&hellip;"
                  disabled
                />
                <input
                  class="auth_sig"
                  type="text"
                  placeholder="waiting until previous challenges are complete&hellip;"
                  disabled
                />
              </fieldset>
              <input
                class="validate_auth_sig"
                type="submit"
                value="Load Challenges"
                disabled
              />
              <span class="validate_auth_sig_status"></span>
            </form>
            <!-- Authorization challenges -->
            <div class="challenges-wrapper">
              <div class="challenges-status">
                <em>Challenges: not loaded yet</em>
              </div>
              <div class="challenges">
                <div class="challenges-domain">
                  <em>Challenges for:</em>
                  <strong class="domain">foobar.com</strong>
                </div>
                <div class="tabs">
                  <input
                    id="challenge_python"
                    type="radio"
                    name="challenge"
                    checked
                  />
                  <label for="challenge_python">
                    Option 1 - python server
                  </label>
                  <input id="challenge_file" type="radio" name="challenge" />
                  <label for="challenge_file"> Option 2 - file-based </label>
                  <input id="challenge_dns" type="radio" name="challenge" />
                  <label for="challenge_dns"> Option 3 - DNS record </label>
                  <!-- Option 1: python server method -->
                  <div class="tab challenge_python">
                    <form class="confirm_python">
                      <fieldset>
                        <label>
                          Run this command on
                          <span class="python_domain">foobar.com</span>'s server
                        </label>
                        <div class="help">
                          <label for="howto_python" class="howto_python_label">
                            (How do I do this?)
                          </label>
                          <input
                            id="howto_python"
                            class="howto_python"
                            type="checkbox"
                          />
                          <div class="help-content">
                            <p>
                              How to serve the challenge response on your
                              domain:
                            </p>
                            <ol>
                              <li>
                                SSH into your domain as someone with sudo
                                permissions:
                                <pre><code class="ssh">ssh ubuntu@foobar.com</code></pre>
                              </li>
                              <li>
                                Stop any webserver running on port 80, if any.
                                If you had previously been running another
                                python command, you can kill it with Ctrl+C):
                                <pre><code>sudo service nginx stop</code></pre>
                                &lt;-- example for nginx
                                <pre><code>sudo apachectl -k graceful-stop</code></pre>
                                &lt;-- example for apache
                              </li>
                              <li>
                                Copy and paste the python command below into
                                your terminal. This command starts a temporary
                                webserver that serves nothing but the challenge
                                response. You only need to keep this running
                                briefly.
                              </li>
                              <li>
                                <p>
                                  Open the link in a new window to make sure
                                  it's working:
                                </p>
                                <a
                                  class="python_link"
                                  href="#"
                                  target="_blank"
                                  rel="noopener noreferrer"
                                  >http://foo.com/.well-known/acme-challenge/aaaaaaaaaaa</a
                                >
                              </li>
                              <li>
                                Click "I'm now running this command&hellip;"
                                button when the file is being served on your
                                domain.
                              </li>
                            </ol>
                          </div>
                        </div>
                        <textarea class="python_server" readonly></textarea>
                      </fieldset>
                      <input
                        type="submit"
                        class="confirm_python_submit"
                        value="I'm now running this command on foobar.com"
                      />
                      <span class="confirm_python_status"></span>
                    </form>
                    <!-- Submit challenge -->
                    <form class="validate_python_sig">
                      <fieldset>
                        <label for="python_sig">Sign challenge command</label>
                        <div class="help">
                          <label
                            for="howto_python_sig"
                            class="howto_python_sig_label"
                          >
                            (How do I do this?)
                          </label>
                          <input
                            id="howto_python_sig"
                            type="checkbox"
                            class="howto_python_sig"
                          />
                          <div class="help-content">
                            <p>
                              This step tells Let's Encrypt that you're serving
                              the correct data for this challenge on your
                              server. When Let's Encrypt receives this
                              submission, they will make a request to your
                              server to verify you are serving the data
                              correctly.
                            </p>
                            <p>How to generate this signature:</p>
                            <ol>
                              <li>
                                Copy and paste the command below into your
                                terminal (if your account private key isn't at
                                "./account.key", change "./account.key" in the
                                command to wherever it exists).
                              </li>
                              <li>
                                Copy and paste the hex encoded signature output
                                from the command into the text field below that
                                command.
                              </li>
                            </ol>
                          </div>
                        </div>
                        <input
                          type="text"
                          class="python_sig_cmd"
                          value="waiting until you confirm the above command is running&hellip;"
                          disabled
                        />
                        <input
                          type="text"
                          id="python_sig"
                          class="python_sig"
                          placeholder="waiting until you confirm the above command is running&hellip;"
                          disabled
                        />
                      </fieldset>
                      <input
                        type="submit"
                        class="validate_python_sig_submit"
                        value="Submit challenge for foobar.com"
                        disabled
                      />
                      <span class="python_sig_status"></span>
                    </form>
                    <!-- Check authorization status -->
                    <form class="validate_recheck_auth_python_sig">
                      <fieldset>
                        <label for="recheck_auth_python_sig">
                          Check challenge status command
                        </label>
                        <div class="help">
                          <label
                            for="howto_recheck_auth_python_sig"
                            class="howto_recheck_auth_python_sig_label"
                          >
                            (How do I do this?)
                          </label>
                          <input
                            id="howto_recheck_auth_python_sig"
                            type="checkbox"
                            class="howto_recheck_auth_python_sig"
                          />
                          <div class="help-content">
                            <p>
                              This step checks to see if Let's Encrypt has
                              marked the challenge for this domain as complete.
                            </p>
                            <p>How to generate this signature:</p>
                            <ol>
                              <li>
                                Copy and paste the command below into your
                                terminal (if your account private key isn't at
                                "./account.key", change "./account.key" in the
                                command to wherever it exists).
                              </li>
                              <li>
                                Copy and paste the hex encoded signature output
                                from the command into the text field below that
                                command.
                              </li>
                            </ol>
                          </div>
                        </div>
                        <input
                          type="text"
                          class="recheck_auth_python_sig_cmd"
                          value="waiting until you submit the challenge above&hellip;"
                          disabled
                        />
                        <input
                          type="text"
                          id="recheck_auth_python_sig"
                          class="recheck_auth_python_sig"
                          placeholder="waiting until you submit the challenge above&hellip;"
                          disabled
                        />
                      </fieldset>
                      <input
                        type="submit"
                        class="validate_recheck_auth_python_sig_submit"
                        value="Check challenge status"
                        disabled
                      />
                      <span
                        class="validate_recheck_auth_python_sig_status"
                      ></span>
                    </form>
                  </div>
                  <!-- Option 2: file-based method -->
                  <div class="tab challenge_file">
                    <form class="confirm_file">
                      <fieldset>
                        <div class="help">
                          <label for="howto_file" class="howto_file_label">
                            (How do I do this?)
                          </label>
                          <input
                            id="howto_file"
                            class="howto_file"
                            type="checkbox"
                          />
                          <div class="help-content">
                            <p>How to host this file on your server:</p>
                            <ol>
                              <li>
                                SSH into your domain as someone with write
                                access to your static web directory:
                                <pre
                                  class="ssh"
                                ><code>ssh ubuntu@foobar.com</code></pre>
                              </li>
                              <li>
                                Create the ".well-known/acme-challenge/"
                                directory in your webserver's static file path:
                                <pre
                                  class="wwwdir"
                                ><code>mkdir -p /path/to/www/.well-known/acme-challenge/</code></pre>
                              </li>
                              <li>
                                Add the static folder to your webserver's config
                                (if you haven't already):
                                <pre
                                  class="file_config"
                                ><code>server {&hellip;</code></pre>
                              </li>
                              <li>
                                Create the file with the necessary contents:
                                <pre
                                  class="file_echo"
                                ><code>echo &hellip;</code></pre>
                              </li>
                              <li>
                                <p>
                                  Open the link in a new window to make sure
                                  it's working:
                                </p>
                                <a
                                  class="file_link"
                                  href="#"
                                  target="_blank"
                                  rel="noopener noreferrer"
                                  >http://foo.com/.well-known/acme-challenge/aaaaaaaaaaa</a
                                >
                              </li>
                              <li>
                                Click "I'm now serving this file&hellip;" button
                                when the file is being served on your domain.
                              </li>
                            </ol>
                          </div>
                        </div>
                        <label>Under this url:</label>
                        <input type="text" class="file_url" value="" readonly />
                        <label>Serve this content:</label>
                        <input
                          type="text"
                          class="file_data"
                          value=""
                          readonly
                        />
                      </fieldset>
                      <input
                        type="submit"
                        class="confirm_file_submit"
                        value="I'm now serving this file on foobar.com"
                      />
                      <span class="confirm_file_status"></span>
                    </form>
                    <!-- Submit challenge -->
                    <form class="validate_file_sig">
                      <fieldset>
                        <label for="file_sig">Sign challenge command</label>
                        <div class="help">
                          <label
                            for="howto_file_sig"
                            class="howto_file_sig_label"
                          >
                            (How do I do this?)
                          </label>
                          <input
                            id="howto_file_sig"
                            type="checkbox"
                            class="howto_file_sig"
                          />
                          <div class="help-content">
                            <p>
                              This step tells Let's Encrypt that you're serving
                              the correct data for this challenge on your
                              server. When Let's Encrypt receives this
                              submission, they will make a request to your
                              server to verify you are serving the data
                              correctly.
                            </p>
                            <p>How to generate this signature:</p>
                            <ol>
                              <li>
                                Copy and paste the command below into your
                                terminal (if your account private key isn't at
                                "./account.key", change "./account.key" in the
                                command to wherever it exists).
                              </li>
                              <li>
                                Copy and paste the hex encoded signature output
                                from the command into the text field below that
                                command.
                              </li>
                            </ol>
                          </div>
                        </div>
                        <input
                          type="text"
                          class="file_sig_cmd"
                          value="waiting until you confirm the file is being served&hellip;"
                          disabled
                        />
                        <input
                          type="text"
                          id="file_sig"
                          class="file_sig"
                          placeholder="waiting until you confirm the file is being served&hellip;"
                          disabled
                        />
                      </fieldset>
                      <input
                        type="submit"
                        class="validate_file_sig_submit"
                        value="Submit challenge for foobar.com"
                        disabled
                      />
                      <span class="file_sig_status"></span>
                    </form>
                    <!-- Check authorization status -->
                    <form class="validate_recheck_auth_file_sig">
                      <fieldset>
                        <label for="recheck_auth_file_sig">
                          Check challenge status command
                        </label>
                        <div class="help">
                          <label class="howto_recheck_auth_file_sig_label help">
                            (How do I do this?)
                          </label>
                          <input
                            type="checkbox"
                            class="howto_recheck_auth_file_sig help-checkbox"
                          />
                          <div class="help-content">
                            <p>
                              This step checks to see if Let's Encrypt has
                              marked the challenge for this domain as complete.
                            </p>
                            <p>How to generate this signature:</p>
                            <ol>
                              <li>
                                Copy and paste the command below into your
                                terminal (if your account private key isn't at
                                "./account.key", change "./account.key" in the
                                command to wherever it exists).
                              </li>
                              <li>
                                Copy and paste the hex encoded signature output
                                from the command into the text field below that
                                command.
                              </li>
                            </ol>
                          </div>
                        </div>
                        <input
                          type="text"
                          class="recheck_auth_file_sig_cmd"
                          value="waiting until you submit the challenge above&hellip;"
                          disabled
                        />
                        <input
                          type="text"
                          id="recheck_auth_file_sig"
                          class="recheck_auth_file_sig"
                          placeholder="waiting until you submit the challenge above&hellip;"
                          disabled
                        />
                      </fieldset>
                      <input
                        type="submit"
                        class="validate_recheck_auth_file_sig_submit"
                        value="Check challenge status"
                        disabled
                      />
                      <span
                        class="validate_recheck_auth_file_sig_status"
                      ></span>
                    </form>
                  </div>
                  <!-- Option 3: DNS TXT record -->
                  <div class="tab challenge_dns">
                    <form class="confirm_dns">
                      <fieldset>
                        <div class="help">
                          <label class="howto_dns_label">
                            (How do I do this?)
                          </label>
                          <input class="howto_dns" type="checkbox" />
                          <div class="help-content">
                            <p>How to set this DNS record:</p>
                            <ol>
                              <li>Log into your domain name provider.</li>
                              <li>
                                Create a new DNS record on
                                <span class="dns_domain">foo.com</span>:
                                <br />
                                Type:
                                <br />
                                <pre>TXT</pre>
                                Name/Host/Alias:
                                <br />
                                <pre>_acme-challenge</pre>
                                Value/Answer/Destination:
                                <br />
                                <pre class="dns_value">
aaaaaaaaaaaaaaaaaaaaaa</pre
                                >
                                Time to Live (TTL):
                                <br />
                                <pre>900</pre>
                              </li>
                              <li>
                                Wait until the TXT record is being served (this
                                can take a while).<br />
                                <pre
                                  class="dns_dig"
                                ><code>dig +short @ns.yournameserver.com _acme_challenge.foo.com TXT</code></pre>
                              </li>
                              <li>
                                Click "I can see the TXT record&hellip;" button
                                when you can see that new TXT record has
                                propagated.
                              </li>
                            </ol>
                          </div>
                        </div>
                        <label>Under this DNS domain:</label>
                        <input
                          type="text"
                          class="dns_subdomain"
                          value=""
                          readonly
                        />
                        <label>Set this TXT record:</label>
                        <input type="text" class="dns_data" value="" readonly />
                      </fieldset>
                      <input
                        type="submit"
                        class="confirm_dns_submit"
                        value="I can see the TXT record for foobar.com"
                      />
                      <span class="confirm_dns_status"></span>
                    </form>
                    <!-- Submit challenge -->
                    <form class="validate_dns_sig">
                      <fieldset>
                        <label for="dns_sig">Sign challenge command</label>
                        <div class="help">
                          <label
                            for="howto_dns_sig"
                            class="howto_dns_sig_label"
                          >
                            (How do I do this?)
                          </label>
                          <input
                            id="howto_dns_sig"
                            type="checkbox"
                            class="howto_dns_sig"
                          />
                          <div class="help-content">
                            <p>
                              This step tells Let's Encrypt that you're serving
                              the correct data for this challenge on your
                              server. When Let's Encrypt receives this
                              submission, they will make a request to your
                              server to verify you are serving the data
                              correctly.
                            </p>
                            <p>How to generate this signature:</p>
                            <ol>
                              <li>
                                Copy and paste the command below into your
                                terminal (if your account private key isn't at
                                "./account.key", change "./account.key" in the
                                command to wherever it exists).
                              </li>
                              <li>
                                Copy and paste the hex encoded signature output
                                from the command into the text field below that
                                command.
                              </li>
                            </ol>
                          </div>
                        </div>
                        <input
                          type="text"
                          class="dns_sig_cmd"
                          value="waiting until you confirm the TXT record is visible&hellip;"
                          disabled
                        />
                        <input
                          type="text"
                          id="dns_sig"
                          class="dns_sig"
                          placeholder="waiting until you confirm the TXT record is visible&hellip;"
                          disabled
                        />
                      </fieldset>
                      <input
                        type="submit"
                        class="validate_dns_sig_submit"
                        value="Submit challenge for foobar.com"
                        disabled
                      />
                      <span class="dns_sig_status"></span>
                    </form>
                    <!-- Check authorization status -->
                    <form class="validate_recheck_auth_dns_sig">
                      <fieldset>
                        <label for="recheck_auth_dns_sig">
                          Check challenge status command
                        </label>
                        <div class="help">
                          <label
                            for="howto_recheck_auth_dns_sig"
                            class="howto_recheck_auth_dns_sig_label"
                          >
                            (How do I do this?)
                          </label>
                          <input
                            id="howto_recheck_auth_dns_sig"
                            type="checkbox"
                            class="howto_recheck_auth_dns_sig"
                          />
                          <div class="help-content">
                            <p>
                              This step checks to see if Let's Encrypt has
                              marked the challenge for this domain as complete.
                            </p>
                            <p>How to generate this signature:</p>
                            <ol>
                              <li>
                                Copy and paste the command below into your
                                terminal (if your account private key isn't at
                                "./account.key", change "./account.key" in the
                                command to wherever it exists).
                              </li>
                              <li>
                                Copy and paste the hex encoded signature output
                                from the command into the text field below that
                                command.
                              </li>
                            </ol>
                          </div>
                        </div>
                        <input
                          type="text"
                          class="recheck_auth_dns_sig_cmd"
                          value="waiting until you submit the challenge above&hellip;"
                          disabled
                        />
                        <input
                          type="text"
                          id="recheck_auth_dns_sig"
                          class="recheck_auth_dns_sig"
                          placeholder="waiting until you submit the challenge above&hellip;"
                          disabled
                        />
                      </fieldset>
                      <input
                        type="submit"
                        class="validate_recheck_auth_dns_sig_submit"
                        value="Check challenge status"
                        disabled
                      />
                      <span class="validate_recheck_auth_dns_sig_status"></span>
                    </form>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- Finalize Order -->
          <form id="validate_finalize">
            <fieldset>
              <label for="finalize_sig">
                Finalize order and generate certificate
              </label>
              <div class="help">
                <label for="howto_finalize"> (How do I do this?) </label>
                <input id="howto_finalize" type="checkbox" />
                <div class="help-content">
                  <p>
                    This command finalizes your order and tells Let's Encrypt to
                    generate your new certificate.
                  </p>
                  <p>How to generate this signature:</p>
                  <ol>
                    <li>
                      Copy and paste the command below into your terminal (if
                      your account private key isn't at "./account.key", change
                      "./account.key" in the command to wherever it exists).
                    </li>
                    <li>
                      Copy and paste the hex encoded signature output from the
                      command into the text field below that command.
                    </li>
                  </ol>
                </div>
              </div>
              <input
                id="finalize_sig_cmd"
                type="text"
                value="waiting until challenges are done&hellip;"
                disabled
              />
              <input
                id="finalize_sig"
                type="text"
                placeholder="waiting until challenges are done&hellip;"
                disabled
              />
            </fieldset>
            <input
              id="validate_finalize_sig"
              type="submit"
              value="Finalize Order"
              disabled
            />
            <span id="validate_finalize_sig_status"></span>
          </form>
          <!-- Re-Check Order -->
          <form id="validate_recheck_order">
            <fieldset>
              <label for="recheck_order_sig">
                Check certificate generation status
              </label>
              <div class="help">
                <label for="howto_recheck_order"> (How do I do this?) </label>
                <input id="howto_recheck_order" type="checkbox" />
                <div class="help-content">
                  <p>
                    This command checks the certificate status of your order to
                    see if it's been generated yet.
                  </p>
                  <p>How to generate this signature:</p>
                  <ol>
                    <li>
                      Copy and paste the command below into your terminal (if
                      your account private key isn't at "./account.key", change
                      "./account.key" in the command to wherever it exists).
                    </li>
                    <li>
                      Copy and paste the hex encoded signature output from the
                      command into the text field below that command.
                    </li>
                  </ol>
                </div>
              </div>
              <input
                id="recheck_order_sig_cmd"
                type="text"
                value="waiting until challenges are done&hellip;"
                disabled
              />
              <input
                id="recheck_order_sig"
                type="text"
                placeholder="waiting until challenges are done&hellip;"
                disabled
              />
            </fieldset>
            <input
              id="validate_recheck_order_sig"
              type="submit"
              value="Check Certificate Status"
              disabled
            />
            <span id="validate_recheck_order_sig_status"></span>
          </form>
          <!-- Get Certificate -->
          <form id="validate_cert">
            <fieldset>
              <label for="cert_sig">Retrieve the generated certificate</label>
              <div class="help">
                <label for="howto_cert">(How do I do this?)</label>
                <input id="howto_cert" type="checkbox" />
                <div class="help-content">
                  <p>This command downloads the final generated certificate.</p>
                  <p>How to generate this signature:</p>
                  <ol>
                    <li>
                      Copy and paste the command below into your terminal (if
                      your account private key isn't at "./account.key", change
                      "./account.key" in the command to wherever it exists).
                    </li>
                    <li>
                      Copy and paste the hex encoded signature output from the
                      command into the text field below that command.
                    </li>
                  </ol>
                </div>
              </div>
              <input
                id="cert_sig_cmd"
                type="text"
                value="waiting until challenges are done&hellip;"
                disabled
              />
              <input
                id="cert_sig"
                type="text"
                placeholder="waiting until challenges are done&hellip;"
                disabled
              />
            </fieldset>
            <input
              id="validate_cert_sig"
              type="submit"
              value="Retrieve Certificate"
              disabled
            />
            <span id="validate_cert_sig_status"></span>
          </form>
        </div>
      </section>

      <!--#################################-->
      <!--##  Step 5: Issue Certificate  ##-->
      <!--#################################-->
      <section>
        <h2>
          Step 5: Install Certificate (
          <span id="step5_pending">waiting&hellip;</span>
          )
        </h2>
        <div id="step5" style="display: none">
          <p>
            Congratulations! Let's Encrypt has issued you a certificate for your
            domains! Below is the signed certificate you can use for your
            website.
          </p>
          <form
            action="https://www.ssllabs.com/ssltest/analyze.html"
            target="_blank"
            rel="noopener noreferrer"
          >
            <fieldset>
              <label for="crt">Signed Certificate Chain</label>
              <div class="help">
                <label for="howto_install">(How do I install this?)</label>
                <input id="howto_install" type="checkbox" />
                <div class="help-content">
                  <p>Nginx installation instructions:</p>
                  <ol>
                    <li>
                      Copy and paste the below certificates (the text contains
                      both your domain certificate and intermediate certificate)
                      into a text file called "chained.pem".
                    </li>
                    <li>
                      If not done already, generate non-default dhparams.
                      <pre><code>openssl dhparam -out dhparam.pem 4096</code></pre>
                    </li>
                    <li>
                      Copy "chained.pem" and "dhparam.pem" to /etc/ssl/certs/.
                      <pre><code>
scp chained.pem root@foo.com:/etc/ssl/certs/chained.pem
scp dhparam.pem root@foo.com:/etc/ssl/certs/dhparam.pem
                          </code></pre>
                    </li>
                    <li>
                      Copy "domain.key" /etc/ssl/private/.
                      <pre><code>scp domain.key root@foo.com:/etc/ssl/private/domain.key</code></pre>
                    </li>
                    <li>
                      Update your webserver config to use https (examples
                      below).
                      <pre><code>
server {
  listen 443;
  server_name foo.com;
  ssl on;
  ssl_certificate /etc/ssl/certs/chained.pem;
  ssl_certificate_key /etc/ssl/private/domain.key;
  ssl_session_timeout 5m;
  ssl_protocols TLSv1.2;
  ssl_ciphers ECDHE-RSA-AES256-GCM-SHA384:ECDHE-RSA-AES128-GCM-SHA256:DHE-RSA-AES256-GCM-SHA384;
  ssl_session_cache shared:SSL:50m;
  ssl_dhparam /etc/ssl/certs/dhparam.pem;
  ssl_prefer_server_ciphers on;

  location / {
    return 200 'Hello world!';
    add_header Content-Type text/plain;
  }
}
                          </code></pre>
                    </li>
                  </ol>

                  <p>Apache installation instructions:</p>
                  <ol>
                    <li>
                      Copy and paste the first certificate section (e.g. the
                      first "-----BEGIN CERTIFICATE-----" section) into a text
                      file named "domain.crt".
                    </li>
                    <li>
                      Copy and paste the second certificate section (e.g. the
                      second "-----BEGIN CERTIFICATE-----" section) into a text
                      file named "intermediate.pem".
                    </li>
                    <li>
                      Copy "domain.crt" and "intermediate.pem" to
                      /etc/ssl/certs/.
                      <pre><code>
scp domain.crt root@foo.com:/etc/ssl/certs/domain.crt
scp intermediate.pem root@foo.com:/etc/ssl/certs/intermediate.pem
                          </code></pre>
                    </li>
                    <li>
                      Copy "domain.key" /etc/ssl/private/.
                      <pre><code>scp domain.key root@foo.com:/etc/ssl/private/domain.key</code></pre>
                    </li>
                    <li>
                      Update your webserver config to use https (examples
                      below).
                      <pre><code>
&lt;VirtualHost _default_:443&gt;
  ServerName foo.com:443
  ServerAlias www.foo.com
  DocumentRoot /var/www/foo.com/html
  SSLEngine on
  SSLCertificateFile    /etc/ssl/certs/domain.crt
  SSLCertificateKeyFile /etc/ssl/private/domain.key
  SSLCertificateChainFile /etc/ssl/certs/intermediate.pem
  SSLProtocol TLSv1.2
  SSLCipherSuite ECDHE-RSA-AES256-GCM-SHA384:ECDHE-RSA-AES128-GCM-SHA256:DHE-RSA-AES256-GCM-SHA384
  SSLHonorCipherOrder on
  &lt;Directory /var/www/foo.com/html&gt;
    Options Indexes FollowSymLinks MultiViews
    AllowOverride All
    Order allow,deny
    allow from all
  &lt;/Directory&gt;
&lt;/VirtualHost&gt;
                          </code></pre>
                    </li>
                  </ol>
                </div>
              </div>
              <textarea id="crt" readonly></textarea>
            </fieldset>
            <input
              id="ssltest_domain"
              type="hidden"
              name="d"
              value="example.com"
            />
            <input type="submit" value="Test my install" /> (opens SSL Labs in
            new window)
          </form>
        </div>
      </section>
    </main>
    <footer>
      <p>
        This website is static, so it can be saved and loaded locally. Just
        right-click and "Save Page As&hellip;"!
      </p>
      <p>
        Released under MIT license | Source code:
        <a
          href="https://github.com/diafygi/gethttpsforfree"
          target="_blank"
          rel="noopener noreferrer"
          >https://github.com/diafygi/gethttpsforfree</a
        >
      </p>
    </footer>
    <script src="js/index.js"></script>
  </body>
</html>
